<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="urn:x-suse:xslt:profiling:docbook50-profile.xsl"
type="text/xml"
title="Profiling step"?>
<!DOCTYPE article
[
<!ENTITY % entities SYSTEM "entity-decl.ent">
<!ENTITY rpi "Raspberry Pi">
<!ENTITY prodrpi "&productname; for &arm; on a &rpi;">
%entities;
]>

<?provo dirname="rpiquick/"?>
<article xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="art.sle.rpiquick" xml:lang="en">
  <title>Introduction to &prodrpi;*</title>
  <subtitle>&productname; &productnumber; for &arm;</subtitle>
  <info>
    <productnumber>&productnumber;</productnumber><productname>&productname;</productname>
    <date><?dbtimestamp format="B d, Y"?></date>
    <abstract>
      <para>
        This guide contains an overview of &productname; on the &rpi; platform and will guide you through the setup procedure.
      </para>
    </abstract>
    <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
      <dm:bugtracker></dm:bugtracker>
      <dm:translation>yes</dm:translation>
    </dm:docmanager>
  </info>
  
  <sect1 xml:id="sec.rpi.platform">
    <title>Platform Overview</title>
    
    <para>
      To be able to use &productname;, a &arm64; compatible &rpi; is required.
      &productname; is tested to work on a &rpi; 3 Model B board.
    </para>
    
    <sect2 xml:id="sec.rpi.platform.system">
      <title>The &rpi; 3 Model B</title>
      <para>
        The &rpi; is a series of small single-board computers based on
        a System on a Chip (SoC) by Broadcom*, featuring various peripherals
        on the board.
      </para>
      
      <figure xml:id="fig.rpi.platform.system.board">
        <title>Overview of the &rpi; 3 Model B Connectors</title>
        <mediaobject>
          <imageobject>
            <imagedata width="80%" fileref="rpi_conn.svg"></imagedata>
          </imageobject>
          <textobject>
            <phrase>Overview of the &rpi; 3 Model B connectors
              	Â© User:Efa2 / Wikimedia Commons / CC-BY-SA-4.0</phrase>
          </textobject>
        </mediaobject>
      </figure>
      
      <variablelist>
        <title>Selected Features of the &rpi; 3 Model B</title>
        
        <varlistentry>
          <term>CPU</term>
          <listitem>
            <para>
              The Broadcom SoC includes a quad-core ARM* Cortex*-A53 cores
              supporting the ARMv8 32-bit and 64-bit instruction sets.
              With the default configuration, it is clocked at 1.2 GHz.
            </para>
          </listitem>
        </varlistentry>
        
        <varlistentry>
          <term>RAM</term>
          <listitem>
            <para>
              1024 MiB DDR2 memory mounted on the back of the board.
            </para>
          </listitem>
        </varlistentry>
        
        <varlistentry>
          <term>Graphics</term>
          <listitem>
            <para>
              Broadcom* VideoCore* IV providing OpenGL ES 2.0 support.
              Displays can be connected over HDMI or composite (TRRS jack).
            </para>
          </listitem>
        </varlistentry>
        
        <varlistentry>
          <term>Ethernet</term>
          <listitem>
            <para>
              A USB Ethernet adapter on the board provides 10/100MBit/s Ethernet.
            </para>
          </listitem>
        </varlistentry>
        
        <varlistentry>
          <term>WLAN</term>
          <listitem>
            <para>
              The BCM43438 chip supports IEEE-802.11g, IEEE-802.11b and
              IEEE-802.11n in the 2,4 GHz band. It also provides
              Bluetooth 2.0-4.1 (Low Energy). Note that Bluetooth is not
              supported by the kernel in &productname;.
            </para>
          </listitem>
        </varlistentry>
        
        <varlistentry>
          <term>Storage</term>
          <listitem><para>MicroSDHC card slot</para></listitem>
        </varlistentry>
        
        <varlistentry>
          <term>Power</term>
          <listitem>
            <para>
              The &rpi;'s main power source is the Micro USB connector.
              It is recommended to use the bundled power supply only.
            </para>
          </listitem>
        </varlistentry>
        
        <varlistentry>
          <term>USB</term>
          <listitem>
            <para>
              A total of four USB 2.0 ports is available.
            </para>
          </listitem>
        </varlistentry>
        
        <varlistentry>
          <term>Connectors</term>
          <listitem>
            <para>
              A 0.1 inch multi-function pin header is also available.
              Note that not all functionality of this header is exposed in SLES.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect2>
    
    <sect2 xml:id="sec.rpi.platform.software">
      <title>&productname; &productnumber;</title>
      <para>
        &productname; &productnumber; is the first enterprise-class operating
        system available free-of-charge for the &rpi;. During its lifetime,
        &productname; &productnumber; systems on &rpi; will receive all released
        feature and maintenance updates after registration. <!-- TODO: Link -->
      </para>
      
      <note>
        <title>No paid support available</title>
        <para>
          &suse; provides no paid support for &prodrpi;.
        </para>
      </note>
      
      <sect3 xml:id="sec.rpi.platform.software.modules">
        <title>Available Extensions and Modules</title>
        <para>
          &productname; offers additional and updated packages in form of modules
          and extensions. On &prodrpi;, the SDK comes preinstalled, while the
          other modules listed below can be installed manually with &yast;.
        </para>
        
        <variablelist>
          <varlistentry>
            <term>Toolchain Module</term>
            <term>Software Development Kit (SDK) Extension</term>
            <listitem>
              <para>
                The Toolchain Module contains the toolchain (GCC, ...)
                for an enhanced software development experience combined with the
                SDK. It is updated yearly to provide more up-to-date versions of
                key development tools.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Web and Scripting Module</term>
            <listitem>
              <para>
                The Web and Scripting Module contains a newer version of the PHP
                and Python scripting languages.
              </para>
            </listitem>
          </varlistentry>
          <varlistentry>
            <term>Containers Module</term>
            <listitem>
              <para>
                The Containers Module contains several packages revolving around containers
                and related tools, including Docker.
                A Quick Start Guide for Docker can be found on &docaddress;.
              </para>
            </listitem>
          </varlistentry>
          <!-- TODO: Other modules or features that need to be mentioned? -->
        </variablelist>
        
        <para>
          For more information about modules and extensions, see
          <link xlink:href="https://www.suse.com/docrep/documents/huz0a6bf9a/suse_linux_enterprise_server_12_modules_white_paper.pdf">SUSE Linux Enterprise Server 12 Modules</link>.
        </para>
      </sect3>
      
      <sect3 xml:id="sec.rpi.platform.software.raspbian">
        <title>Differences Compared to Raspbian</title>
        <para>
          Raspbian is the de-facto default distribution for the &rpi;.
          This is a short overview for users of Raspbian.
        </para>
        
        <variablelist>
          <varlistentry>
            <term>Based on Upstream Kernel</term>
            <listitem>
              <para>
                While Raspbian uses a kernel with modifications especially for the
                &rpi;, &prodrpi; uses the default &sle; kernel for &aarch64;.
              </para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <!-- TODO: Better title? -->
            <term>&aarch64; Instruction Set</term>
            <listitem>
              <para>
                &prodrpi; is the first distribution for the &rpi; using the
                &aarch64; instruction set.
              </para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>Boot Provess</term>
            <listitem>
              <para>
                In Raspbian, the kernel is loaded directly. This is not supported
                by &prodrpi;, where the Das U-Boot bootloader is used to provide
                an EFI boot environment. A GRUB2 EFI binary is chainloaded to
                provide a graphical boot screen.
              </para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>Root Filesystem</term>
            <listitem>
              <para>
                <!-- TODO: Does it? -->
                &prodrpi; uses Btrfs as file system for the root directory.
              </para>
            </listitem>
          </varlistentry>
          
          <varlistentry>
            <term>sudo Configuration</term>
            <listitem>
              <para>
                When running a command with <command>sudo</command>, you will be
                asked to provide the &rootuser; password instead of the user's.
              </para>
            </listitem>
          </varlistentry>
        </variablelist>
      </sect3>
    </sect2>
  </sect1>
  
  <sect1 xml:id="sec.rpi.installation">
    <title>Installation</title>
    <!-- TODO: Compressed or not compressed? -->
    <para>
      &productname; for &rpi; is distributed as XZ-compressed image file
      for MicroSD cards. This section will guide you through the process of
      preparing the card to the first boot. If you already have
      a MicroSD card containing the image, you can skip straight to
      <xref linkend="sec.rpi.installation.boot"/>.
    </para>
    
    <note>
      <title>SD Card Space Requirements</title>
      <para>
        It is recommended to use a card with a capacity of at least 8 GB.
      </para>
    </note>
    
    <warning>
      <title>All Data on the Card will be Lost!</title>
      <para>
        By following this procedure, all data on the SD card will be
        overwritten and therefore irrevocably lost!
      </para>
    </warning>
    
    <sect2 xml:id="sec.rpi.installation.linux">
      <title>Preparing the Card on Linux</title>
      <para>
        Before and after you plug in the SD card, run
        <command>lsblk</command>. Between the two runs of
        <command>lsblk</command>, there should be a difference of one or more
        lines. The first column and first row is the name of the node
        representing the SD card in your system. To write the image to
        the card, use the <command>dd</command> command:
      </para>

      <screen>xz -cd <replaceable>IMAGE</replaceable> | dd of=/dev/<replaceable>SDCARDDEV</replaceable> bs=4096</screen>
      
      <example xml:id="ex.rpi.installation.dd">
        <title>
          Writing the Image to the Card using <command>dd</command>
        </title>
        <para>This command decompresses the image
          <literal>SLES-12-SP2-ARM-JeOS-raspberrypi3_aarch64-Build2.62.raw.xz</literal>
          to the SD card <literal>mmcblk0</literal>.
        </para>
        
        <screen>
xz -cd SLES-12-SP2-ARM-JeOS-raspberrypi3_aarch64-Build2.62.raw.xz | sudo dd of=/dev/mmcblk0 bs=4096</screen>
      </example>
    </sect2>
    
    <sect2 xml:id="sec.rpi.installation.windows">
      <title>Preparing the Card on Windows*</title>
      <para>TBD</para>
    </sect2>
    
    <sect2 xml:id="sec.rpi.installation.boot">
      <title>Booting for the First Time</title>
      <para>
        After insertion of the prepared MicroSD card, connect a display
        and a USB keyboard first, then provide power over Micro USB.
        After a few seconds you should be able to see a few lines of text
        on the screen. If that is not the case, recheck the connection to
        the display.
      </para>
      
      <para>
        On the first boot, the system will expand to fill the entire SD card,
        so be patient.
      </para>
      
      <note>
        <title>Be patient!</title>
        <para>
          The first boot may take up to half an hour with no visible changes
          to the display output. Is it important that you do not interrupt
          this process, otherwise you may end up with a unbootable system.
        </para>
      </note>
      
      <!-- Is the system with or w/o GUI? -->
      <!--
      <para>
        Once the system finished booting, you will see the following output
        on the screen:
      </para>
      
      <example xml:id="ex.rpi.issue">
        <title>Welcome Message on tty1</title>
        <screen>
Welcome to &productname; &productnumber; - Kernel 4.4.15-0-default (tty1).


linux login: _</screen>
      </example>
      
      <para>
        Log into the system by entering <literal>root</literal> as username
        and <literal>linux</literal> as password. After a successful login,
        the shell prompt appears:
      </para>
      
      <screen>linux:~ # _</screen>
      
      <para>
        You are now logged into the system as root and can configure the system.
      </para>-->
      
      <para>
        Once the system finished booting, you will see the following login
        screen:
      </para>
      
      <figure xml:id="fig.rpi.installation.xdm">
        <title>XDM Login Screen</title>
        <mediaobject>
          <imageobject>
            <imagedata width="80%" fileref="rpi_xdm.png"></imagedata>
          </imageobject>
          <textobject>
            <phrase>XDM login screen after the system has booted</phrase>
          </textobject>
        </mediaobject>
      </figure>
      
      <para>
        Type in the username <literal>pi</literal> and password
        <literal>pi</literal> and press enter. The default IceWM desktop starts.
        By using the menu, you can start an <command>XTerm</command> terminal:
      </para>
      
      <figure xml:id="fig.rpi.installation.icewm">
        <title>IceWM desktop</title>
        <mediaobject>
          <imageobject>
            <imagedata width="80%" fileref="rpi_icewm.png"></imagedata>
          </imageobject>
          <textobject>
            <phrase>IceWM desktop after login</phrase>
          </textobject>
        </mediaobject>
      </figure>
    </sect2>
  </sect1>
  
  <sect1 xml:id="sec.rpi.configuration">
    <title>Initial system configuration</title>
    <para>
      In this section is is explained how to perform the initial
      system configuration for &productname; on &rpi;.
    </para>

    <sect2 xml:id="sec.rpi.userpassword">
      <title>
        Assigning a Password to the <systemitem class="username">pi</systemitem> User
      </title>
      <para>
        For security reasons, it is strongly discouraged to have a user with 
        an empty password. By default, the
        <systemitem class="username">pi</systemitem> user does not have a password
        assigned. To change that, start <command>XTerm</command> and run
        <command>passwd</command>:
      </para>
      
      <screen>
<prompt>pi@linux:~></prompt> passwd
New password: 
Retype new password:
passwd: password updated successfully
<prompt>pi@linux:~></prompt></screen>

      <note>
        <title>Invisible Password Input</title>
        <para>
          When entering the password, you will not see the typed characters
          on screen. In fact, you may not notice at all that you are typing.
          That is an intentional effect for increased security.
        </para>
      </note>
    </sect2>
    
    <sect2 xml:id="sec.rpi.rootpassword">
      <title>Changing the &rootuser; Password</title>
      <para>
        The image on the SD cards all share the same user and password
        combination, so it is recommended to assign a new password for the
        &rootuser; user. To do that, run the <command>sudo passwd</command> command.
        The default password for &rootuser; is <literal>linux</literal>.
      </para>

      <screen>
<prompt>pi@linux:~></prompt> sudo passwd

We trust you have received the usual lecture from the local System
Administrator. It usually boils down to these three things:

    #1) Respect the privacy of others.
    #2) Think before you type.
    #3) With great power comes great responsibility.

root's password:
New password: 
Retype new password:
passwd: password updated successfully
<prompt>pi@linux:~></prompt></screen>
    </sect2>
    
    <sect2 xml:id="sec.rpi.hostname">
      <title>Changing the Hostname</title>

      <para>
        By default, no hostname is configured on the device. Follow these steps
        to change it.
      </para>
      
      <procedure xml:id="pro.rpi.hostname.yast">
        <step>
          <para>
            Open the &yast; network module either by running
            <command>yast2 lan</command> or clicking the network icon in the
            &yast; control center.          
          </para>
        </step>
        
        <step>
          <para>
            Select <guimenu>Hostname/DNS</guimenu> in the top tab bar.
          </para>
        </step>
        
        <step>
          <para>
            Type the new hostname into the <guimenu>Hostname</guimenu> field.
          </para>
        </step>
        
        <step>
          <para>
            Click on <guimenu>OK</guimenu> to save the change.
            After &yast; exited, you need to log out and in again.
          </para>
        </step>
      </procedure>
    </sect2>
    
    <sect2 xml:id="sec.rpi.network">
      <title>Setting up Networking</title>
      <para>
        The default configuration has DHCP enabled on the ethernet port.
        If that suits your network environment, you can skip this section.
        If your require use of a static IP address, use &yast;:</para>
      
      <procedure xml:id="pro.rpi.network.yast">
        <step>
          <para>
            Open the &yast; network module either by running
            <command>yast2 lan</command> or clicking the network icon in the
            &yast; control center.
          </para>
        </step>
        
        <step>
          <para>
            In &yast;, you will see the network interface being selected.
            Choose <guimenu>Edit</guimenu> to open the address configuration.
          </para>
        </step>
        
        <step>
          <para>
            Select <guimenu>Statically Assigned IP Address</guimenu> and type
            in the desired values for <guimenu>IP Address</guimenu> and
            <guimenu>Subnet Mask</guimenu>. Click <guimenu>Next</guimenu>.
          </para>
        </step>
        
        <step>
          <para>
            With a static network configuration, you will also need to specify
            a DNS server (if applicable) and a gateway. For the gateway, select
            <guimenu>Routing</guimenu> in the tab bar and enter the IPs of the
            gateways into the specific fields.
          </para>
        </step>
        
        <step>
          <para>
            The DNS server is set in the <guimenu>Hostname/DNS</guimenu> tab.
            After choosing that tab, enter the IPs of the nameservers
            into the respective <guimenu>Name Server</guimenu> fields.
          </para>
        </step>
      </procedure>
      
      <para>
        For information about the network configuration in &productname;, see
        <citetitle>&admin;, Chapter 13 <quote>Remote Installation</quote>,
        Section 13.2.2 <quote>Setting Up an NFS Repository Manually</quote>
        </citetitle> (&docaddress;).
      </para>
    </sect2>
    
    <sect2 xml:id="sec.rpi.registration">
      <title>Registration</title>
      <para>
        TBD <!-- Registration not implemented yet -->
      </para>
    </sect2>
  </sect1>
  
  <sect1 xml:id="sec.rpi.documentation">
    <title>Complete Documentation</title>
    <para>
      This introduction only covered the most basic tasks.
      You can find the complete documentation for &productname;
      &productnumber; on &docaddress;.
    </para>
    
    <note>
      <title>Applicability of Complete Documentation</title>
      <para>
        <!-- TODO: Different phrasing... -->
        Due to the &rpi; being a vastly different hardware platform, not
        all content in the complete documentation applies also to &prodrpi;.
      </para>
    </note>
  </sect1>
  
  <xi:include href="common_copyright_quick.xml"/>
  <xi:include href="common_gfdl1.2_i.xml"/>
</article>
