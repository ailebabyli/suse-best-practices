<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="urn:x-suse:xslt:profiling:docbook50-profile.xsl"
type="text/xml"
title="Profiling step"?>
<!DOCTYPE article
[
<!ENTITY % entities SYSTEM "entity-decl.ent">
<!ENTITY rpi "Raspberry Pi">
%entities;
]>

<?provo dirname="rpiquick/"?>
<article xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude" xmlns:xlink="http://www.w3.org/1999/xlink" version="5.0" xml:id="art.sle.rpiquick" xml:lang="en">
  <title>Introduction to &productname; on a &rpi;*</title>
  <subtitle>&productname; &productnumber; on a &rpi;</subtitle>
  <info>
    <productnumber>&productnumber;</productnumber><productname>&productname;</productname>
    <date><?dbtimestamp format="B d, Y"?></date>
    <abstract>
      <para>
        This guide contains an overview of &productname; on the &rpi; platform and will guide you through the setup procedure.
      </para>
    </abstract>
    <dm:docmanager xmlns:dm="urn:x-suse:ns:docmanager">
      <dm:bugtracker></dm:bugtracker>
      <dm:translation>yes</dm:translation>
    </dm:docmanager>
  </info>
  
  <sect1 xml:id="sec.rpi.platform">
    <title>Platform Overview</title>
    
    <para>
      To be able to use &productname;, a &arm64; compatible &rpi; is required.
      &productname; is tested to work on a &rpi; 3 Model B board.
    </para>
    
    <sect2 xml:id="sec.rpi.platform.system">
      <title>The &rpi; 3 Model B</title>
      <para>
        The &rpi; is a series of small single-board computers based on
        a System on a Chip (SoC) by Broadcom*, featuring various peripherals
        on the board.
      </para>
      
      <figure>
        <title>Overview of the &rpi; 3 Model B Connectors</title>
        <mediaobject>
          <imageobject>
            <imagedata width="80%" fileref="rpi_conn.svg"></imagedata>
          </imageobject>
          <textobject>
            <phrase>Overview of the &rpi; 3 Model B connectors
              	Â© User:Efa2 / Wikimedia Commons / CC-BY-SA-4.0</phrase>
          </textobject>
        </mediaobject>
      </figure>
      
      <variablelist>
        <title>Selected Features of the &rpi; 3 Model B</title>
        
        <varlistentry>
          <term>CPU</term>
          <listitem><para>The Broadcom SoC includes a quad-core ARM* Cortex*-A53 cores
              supporting the ARMv8 32-bit and 64-bit instruction sets.
              The main clock is at 1.2 GHz.</para></listitem>
        </varlistentry>
        
        <varlistentry>
          <term>RAM</term>
          <listitem><para>1024 MiB DDR2 memory</para></listitem>
        </varlistentry>
        
        <varlistentry>
          <term>Graphics</term>
          <listitem>
            <para>
              Broadcom* VideoCore* IV providing OpenGL ES 2.0 support.
              Displays can be connected over HDMI or composite (TRRS jack).
            </para>
          </listitem>
        </varlistentry>
        
        <varlistentry>
          <term>Network</term>
          <listitem><para>10/100MBit/s Ethernet</para></listitem>
        </varlistentry>
        
        <varlistentry>
          <term>Storage</term>
          <listitem><para>MicroSDHC card slot</para></listitem>
        </varlistentry>
        
        <varlistentry>
          <term>Power</term>
          <listitem>
            <para>
              The &rpi;'s main power source is the Micro USB connector.
              It is recommended to use the bundled power supply only.
            </para>
          </listitem>
        </varlistentry>
        
        <varlistentry>
          <term>USB</term>
          <listitem>
            <para>
              A total of four USB 2.0 ports is available.
            </para>
          </listitem>
        </varlistentry>
        
        <varlistentry>
          <term>Connectors</term>
          <listitem>
            <para>
              A 0.1 inch multi-function pin header is also available.
              Note that not all functionality of this header is exposed in SLES.
            </para>
          </listitem>
        </varlistentry>
      </variablelist>
    </sect2>
    
    <sect2 xml:id="sec.rpi.platform.software">
      <title>&productname; &productnumber;</title>
      <para>
        TBD
      </para>
    </sect2>
  </sect1>
  
  <sect1 xml:id="sec.rpi.installation">
    <title>Installation</title>

    <para>
      &productname; for &rpi; is distributed as XZ-compressed image file
      for MicroSD cards. This section will guide you through the process of
      preparing the card to the first boot. If you already have
      a MicroSD card containing the image, you can skip straight to
      <xref linkend="sec.rpi.installation.boot"/>.
    </para>
    
    <note>
      <title>SD Card Space Requirements</title>
      <para>
        <!-- TODO: Verify! -->
        While the image itself only requires 2 GB of space,
        it is recommended to use a card with a capacity of at least 8 GB.
      </para>
    </note>
    
    <warning>
      <title>All Data on the Card will be Lost!</title>
      <para>
        By following this procedure, all data on the SD card will be
        overwritten and therefore irrevocably lost!
      </para>
    </warning>
    
    <sect2 xml:id="sec.rpi.installation.linux">
      <title>Preparing the Card on Linux</title>
      <para>
        Before and after you plug in the SD card, run
        <command>lsblk</command>. Between the two runs of
        <command>lsblk</command>, there should be a difference of one or more
        lines. The first column and first row is the name of the node
        representing the SD card in your system. To write the image to
        the card, use the <command>dd</command> command:
      </para>
      
      <screen>xz -cd <replaceable>IMAGE</replaceable> | dd of=/dev/<replaceable>SDCARDDEV</replaceable> bs=4096</screen>
      
      <example xml:id="ex.rpi.installation.dd">
        <title>
          Writing the Image to the Card using <command>dd</command>
        </title>
        <para>This command decompresses the image
          <literal>SLES-12-SP2-ARM-JeOS-raspberrypi3_aarch64.-Build2.62.raw.xz</literal>
          to the SD card <literal>mmcblk0</literal>.
        </para>
        
        <screen>
xz -cd SLES-12-SP2-ARM-JeOS-raspberrypi3_aarch64.-Build2.62.raw.xz | sudo dd of=/dev/mmcblk0 bs=4096</screen>
      </example>
    </sect2>
    
    <sect2 xml:id="sec.rpi.installation.windows">
      <title>Preparing the Card on Windows*</title>
      <para>TBD</para>
    </sect2>
    
    <sect2 xml:id="sec.rpi.installation.boot">
      <title>Booting for the First Time</title>
      <para>
        After insertion of the prepared MicroSD card, connect a display
        and a USB keyboard first, then provide power over Micro USB.
        After a few seconds you should be able to see a few lines of text
        on the screen. If that is not the case, recheck the connection to
        the display.
      </para>
      
      <para>
        On the first boot, the system will expand to fill the entire SD card,
        so be patient.
      </para>
      
      <note>
        <title>Be patient!</title>
        <para>
          The first boot may take up to half an hour with no visible changes
          to the display output. Is it important that you do not interrupt
          this process, otherwise you may end up with a unbootable system.
        </para>
      </note>
      
      <!-- Is the system with or w/o GUI? -->
      <para>
        Once the system finished booting, you will see the following output
        on the screen:
      </para>
      
      <example xml:id="ex.rpi.issue">
        <title>Welcome Message on tty1</title>
        <screen>
Welcome to &productname; &productnumber; - Kernel 4.4.15-0-default (tty1).


nohostname login: _</screen>
      </example>
      
      <para>
        Log into the system by entering <literal>root</literal> as username
        and <literal>linux</literal> as password. After a successful login,
        the shell prompt appears:
      </para>
      
      <screen>nohostname:~ # _</screen>
      
      <para>
        You are now logged into the system as root and can configure the system.
      </para>
    </sect2>
  </sect1>
  
  <sect1 xml:id="sec.rpi.configuration">
    <title>Initial system configuration</title>
    <para>
      In this section is is explained how to perform the initial
      system configuration for &productname; on &rpi;.
    </para>
    
    <sect2 xml:id="sec.rpi.password">
      <title>Changing the &rootuser; Password</title>
      <para>
        The image on the SD cards all share the same user and password
        combination, so it is recommended to assign a new password for the
        &rootuser; user. To do that, run the <command>passwd</command> command:
      </para>
      
      <screen>
&prompt.root; passwd
New password: 
Retype new password:
passwd: password updated successfully
&prompt.root;</screen>

      <note>
        <title>Invisible Password Input</title>
        <para>
          When entering the password, you will not see the typed characters
          on screen. In fact, you may not notice at all that you are typing.
          That is an intentional effect for increased security.
        </para>
      </note>
    </sect2>
    
    <sect2 xml:id="sec.rpi.network">
      <title>Setting up Networking</title>
      <para>
        The default configuration has DHCP enabled on the ethernet port.
        If that suits your network environment, you can skip this section.
        If your require use of a static IP address, use &yast;:</para>
      
      <!-- TODO: <procedure/> -->
    </sect2>
  </sect1>
  
  <xi:include href="common_copyright_quick.xml"/>
  <xi:include href="common_gfdl1.2_i.xml"/>
</article>
